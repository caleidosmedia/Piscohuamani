(function(e,t){if(typeof define==="function"&&define.amd){define(["jquery"],function(e){return t(e)})}else if(typeof exports==="object"){module.exports=t(require("jquery"))}else{t(jQuery)}})(this,function(e){(function(e){"use strict";function t(t){var n=[{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}];e.each(n,function(){t=t.replace(this.re,this.ch)});return t}function n(e){var t={"&":"&","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};var n="(?:"+Object.keys(t).join("|")+")",r=new RegExp(n),i=new RegExp(n,"g"),s=e==null?"":""+e;return r.test(s)?s.replace(i,function(e){return t[e]}):s}function i(t,n){var i=arguments;var s=t,o=n;[].shift.apply(i);var u;var a=this.each(function(){var t=e(this);if(t.is("select")){var n=t.data("selectpicker"),a=typeof s=="object"&&s;if(!n){var f=e.extend({},r.DEFAULTS,e.fn.selectpicker.defaults||{},t.data(),a);f.template=e.extend({},r.DEFAULTS.template,e.fn.selectpicker.defaults?e.fn.selectpicker.defaults.template:{},t.data().template,a.template);t.data("selectpicker",n=new r(this,f,o))}else if(a){for(var l in a){if(a.hasOwnProperty(l)){n.options[l]=a[l]}}}if(typeof s=="string"){if(n[s]instanceof Function){u=n[s].apply(n,i)}else{u=n.options[s]}}}});if(typeof u!=="undefined"){return u}else{return a}}if(!String.prototype.includes){(function(){"use strict";var e={}.toString;var t=function(){try{var e={};var t=Object.defineProperty;var n=t(e,e,e)&&t}catch(r){}return n}();var n="".indexOf;var r=function(t){if(this==null){throw new TypeError}var r=String(this);if(t&&e.call(t)=="[object RegExp]"){throw new TypeError}var i=r.length;var s=String(t);var o=s.length;var u=arguments.length>1?arguments[1]:undefined;var a=u?Number(u):0;if(a!=a){a=0}var f=Math.min(Math.max(a,0),i);if(o+f>i){return false}return n.call(r,s,a)!=-1};if(t){t(String.prototype,"includes",{value:r,configurable:true,writable:true})}else{String.prototype.includes=r}})()}if(!String.prototype.startsWith){(function(){"use strict";var e=function(){try{var e={};var t=Object.defineProperty;var n=t(e,e,e)&&t}catch(r){}return n}();var t={}.toString;var n=function(e){if(this==null){throw new TypeError}var n=String(this);if(e&&t.call(e)=="[object RegExp]"){throw new TypeError}var r=n.length;var i=String(e);var s=i.length;var o=arguments.length>1?arguments[1]:undefined;var u=o?Number(o):0;if(u!=u){u=0}var a=Math.min(Math.max(u,0),r);if(s+a>r){return false}var f=-1;while(++f<s){if(n.charCodeAt(a+f)!=i.charCodeAt(f)){return false}}return true};if(e){e(String.prototype,"startsWith",{value:n,configurable:true,writable:true})}else{String.prototype.startsWith=n}})()}if(!Object.keys){Object.keys=function(e,t,n){n=[];for(t in e)n.hasOwnProperty.call(e,t)&&n.push(t);return n}}e.fn.triggerNative=function(e){var t=this[0],n;if(t.dispatchEvent){if(typeof Event==="function"){n=new Event(e,{bubbles:true})}else{n=document.createEvent("Event");n.initEvent(e,true,false)}t.dispatchEvent(n)}else{if(t.fireEvent){n=document.createEventObject();n.eventType=e;t.fireEvent("on"+e,n)}this.trigger(e)}};e.expr[":"].icontains=function(t,n,r){var i=e(t);var s=(i.data("tokens")||i.text()).toUpperCase();return s.includes(r[3].toUpperCase())};e.expr[":"].ibegins=function(t,n,r){var i=e(t);var s=(i.data("tokens")||i.text()).toUpperCase();return s.startsWith(r[3].toUpperCase())};e.expr[":"].aicontains=function(t,n,r){var i=e(t);var s=(i.data("tokens")||i.data("normalizedText")||i.text()).toUpperCase();return s.includes(r[3].toUpperCase())};e.expr[":"].aibegins=function(t,n,r){var i=e(t);var s=(i.data("tokens")||i.data("normalizedText")||i.text()).toUpperCase();return s.startsWith(r[3].toUpperCase())};var r=function(t,n,i){if(i){i.stopPropagation();i.preventDefault()}this.$element=e(t);this.$newElement=null;this.$button=null;this.$menu=null;this.$lis=null;this.options=n;if(this.options.title===null){this.options.title=this.$element.attr("title")}this.val=r.prototype.val;this.render=r.prototype.render;this.refresh=r.prototype.refresh;this.setStyle=r.prototype.setStyle;this.selectAll=r.prototype.selectAll;this.deselectAll=r.prototype.deselectAll;this.destroy=r.prototype.remove;this.remove=r.prototype.remove;this.show=r.prototype.show;this.hide=r.prototype.hide;this.init()};r.VERSION="1.7.5";r.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(e,t){return e==1?"{0} item selected":"{0} items selected"},maxOptionsText:function(e,t){return[e==1?"Limit reached ({n} item max)":"Limit reached ({n} items max)",t==1?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:false,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:false,container:false,hideDisabled:false,showSubtext:false,showIcon:true,showContent:true,dropupAuto:true,header:false,liveSearch:false,liveSearchPlaceholder:null,liveSearchNormalize:false,liveSearchStyle:"contains",actionsBox:false,iconBase:"glyphicon",tickIcon:"glyphicon-ok",template:{caret:'<span class="caret"></span>'},maxOptions:false,mobile:false,selectOnTab:false,dropdownAlignRight:false};r.prototype={constructor:r,init:function(){var t=this,n=this.$element.attr("id");this.$element.addClass("bs-select-hidden");this.liObj={};this.multiple=this.$element.prop("multiple");this.autofocus=this.$element.prop("autofocus");this.$newElement=this.createView();this.$element.after(this.$newElement);this.$button=this.$newElement.children("button");this.$menu=this.$newElement.children(".dropdown-menu");this.$menuInner=this.$menu.children(".inner");this.$searchbox=this.$menu.find("input");if(this.options.dropdownAlignRight)this.$menu.addClass("dropdown-menu-right");if(typeof n!=="undefined"){this.$button.attr("data-id",n);e('label[for="'+n+'"]').click(function(e){e.preventDefault();t.$button.focus()})}this.checkDisabled();this.clickListener();if(this.options.liveSearch)this.liveSearchListener();this.render();this.setStyle();this.setWidth();if(this.options.container)this.selectPosition();this.$menu.data("this",this);this.$newElement.data("this",this);if(this.options.mobile)this.mobile();this.$newElement.on({"hide.bs.dropdown":function(e){t.$element.trigger("hide.bs.select",e)},"hidden.bs.dropdown":function(e){t.$element.trigger("hidden.bs.select",e)},"show.bs.dropdown":function(e){t.$element.trigger("show.bs.select",e)},"shown.bs.dropdown":function(e){t.$element.trigger("shown.bs.select",e)}});setTimeout(function(){t.$element.trigger("loaded.bs.select")})},createDropdown:function(){var t=this.multiple?" show-tick":"",r=this.$element.parent().hasClass("input-group")?" input-group-btn":"",i=this.autofocus?" autofocus":"";var s=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"";var o=this.options.liveSearch?'<div class="bs-searchbox">'+'<input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+n(this.options.liveSearchPlaceholder)+'"')+">"+"</div>":"";var u=this.multiple&&this.options.actionsBox?'<div class="bs-actionsbox">'+'<div class="btn-group btn-group-sm btn-block">'+'<button type="button" class="actions-btn bs-select-all btn btn-default">'+this.options.selectAllText+"</button>"+'<button type="button" class="actions-btn bs-deselect-all btn btn-default">'+this.options.deselectAllText+"</button>"+"</div>"+"</div>":"";var a=this.multiple&&this.options.doneButton?'<div class="bs-donebutton">'+'<div class="btn-group btn-block">'+'<button type="button" class="btn btn-sm btn-default">'+this.options.doneButtonText+"</button>"+"</div>"+"</div>":"";var f='<div class="btn-group bootstrap-select'+t+r+'">'+'<button type="button" class="'+this.options.styleBase+' dropdown-toggle" data-toggle="dropdown"'+i+">"+'<span class="filter-option pull-left"></span>&nbsp;'+'<span class="bs-caret">'+this.options.template.caret+"</span>"+"</button>"+'<div class="dropdown-menu open">'+s+o+u+'<ul class="dropdown-menu inner" role="menu">'+"</ul>"+a+"</div>"+"</div>";return e(f)},createView:function(){var e=this.createDropdown(),t=this.createLi();e.find("ul")[0].innerHTML=t;return e},reloadLi:function(){this.destroyLi();var e=this.createLi();this.$menuInner[0].innerHTML=e},destroyLi:function(){this.$menu.find("li").remove()},createLi:function(){var r=this,i=[],s=0,o=document.createElement("option"),u=-1;var a=function(e,t,n,r){return"<li"+(typeof n!=="undefined"&""!==n?' class="'+n+'"':"")+(typeof t!=="undefined"&null!==t?' data-original-index="'+t+'"':"")+(typeof r!=="undefined"&null!==r?'data-optgroup="'+r+'"':"")+">"+e+"</li>"};var f=function(e,i,s,o){return'<a tabindex="0"'+(typeof i!=="undefined"?' class="'+i+'"':"")+(typeof s!=="undefined"?' style="'+s+'"':"")+(r.options.liveSearchNormalize?' data-normalized-text="'+t(n(e))+'"':"")+(typeof o!=="undefined"||o!==null?' data-tokens="'+o+'"':"")+">"+e+'<span class="'+r.options.iconBase+" "+r.options.tickIcon+' check-mark"></span>'+"</a>"};if(this.options.title&&!this.multiple){u--;if(!this.$element.find(".bs-title-option").length){var l=this.$element[0];o.className="bs-title-option";o.appendChild(document.createTextNode(this.options.title));o.value="";l.insertBefore(o,l.firstChild);if(e(l.options[l.selectedIndex]).attr("selected")===undefined)o.selected=true}}this.$element.find("option").each(function(t){var n=e(this);u++;if(n.hasClass("bs-title-option"))return;var o=this.className||"",l=this.style.cssText,c=n.data("content")?n.data("content"):n.html(),h=n.data("tokens")?n.data("tokens"):null,p=typeof n.data("subtext")!=="undefined"?'<small class="text-muted">'+n.data("subtext")+"</small>":"",d=typeof n.data("icon")!=="undefined"?'<span class="'+r.options.iconBase+" "+n.data("icon")+'"></span> ':"",v=this.disabled||this.parentNode.tagName==="OPTGROUP"&&this.parentNode.disabled;if(d!==""&&v){d="<span>"+d+"</span>"}if(r.options.hideDisabled&&v){u--;return}if(!n.data("content")){c=d+'<span class="text">'+c+p+"</span>"}if(this.parentNode.tagName==="OPTGROUP"&&n.data("divider")!==true){var m=" "+this.parentNode.className||"";if(n.index()===0){s+=1;var g=this.parentNode.label,y=typeof n.parent().data("subtext")!=="undefined"?'<small class="text-muted">'+n.parent().data("subtext")+"</small>":"",b=n.parent().data("icon")?'<span class="'+r.options.iconBase+" "+n.parent().data("icon")+'"></span> ':"";g=b+'<span class="text">'+g+y+"</span>";if(t!==0&&i.length>0){u++;i.push(a("",null,"divider",s+"div"))}u++;i.push(a(g,null,"dropdown-header"+m,s))}i.push(a(f(c,"opt "+o+m,l,h),t,"",s))}else if(n.data("divider")===true){i.push(a("",t,"divider"))}else if(n.data("hidden")===true){i.push(a(f(c,o,l,h),t,"hidden is-hidden"))}else{if(this.previousElementSibling&&this.previousElementSibling.tagName==="OPTGROUP"){u++;i.push(a("",null,"divider",s+"div"))}i.push(a(f(c,o,l,h),t))}r.liObj[t]=u});if(!this.multiple&&this.$element.find("option:selected").length===0&&!this.options.title){this.$element.find("option").eq(0).prop("selected",true).attr("selected","selected")}return i.join("")},findLis:function(){if(this.$lis==null)this.$lis=this.$menu.find("li");return this.$lis},render:function(t){var n=this,r;if(t!==false){this.$element.find("option").each(function(e){var t=n.findLis().eq(n.liObj[e]);n.setDisabled(e,this.disabled||this.parentNode.tagName==="OPTGROUP"&&this.parentNode.disabled,t);n.setSelected(e,this.selected,t)})}this.tabIndex();var i=this.$element.find("option").map(function(){if(this.selected){if(n.options.hideDisabled&&(this.disabled||this.parentNode.tagName==="OPTGROUP"&&this.parentNode.disabled))return;var t=e(this),r=t.data("icon")&&n.options.showIcon?'<i class="'+n.options.iconBase+" "+t.data("icon")+'"></i> ':"",i;if(n.options.showSubtext&&t.data("subtext")&&!n.multiple){i=' <small class="text-muted">'+t.data("subtext")+"</small>"}else{i=""}if(typeof t.attr("title")!=="undefined"){return t.attr("title")}else if(t.data("content")&&n.options.showContent){return t.data("content")}else{return r+t.html()+i}}}).toArray();var s=!this.multiple?i[0]:i.join(this.options.multipleSeparator);if(this.multiple&&this.options.selectedTextFormat.indexOf("count")>-1){var o=this.options.selectedTextFormat.split(">");if(o.length>1&&i.length>o[1]||o.length==1&&i.length>=2){r=this.options.hideDisabled?", [disabled]":"";var u=this.$element.find("option").not('[data-divider="true"], [data-hidden="true"]'+r).length,a=typeof this.options.countSelectedText==="function"?this.options.countSelectedText(i.length,u):this.options.countSelectedText;s=a.replace("{0}",i.length.toString()).replace("{1}",u.toString())}}if(this.options.title==undefined){this.options.title=this.$element.attr("title")}if(this.options.selectedTextFormat=="static"){s=this.options.title}if(!s){s=typeof this.options.title!=="undefined"?this.options.title:this.options.noneSelectedText}this.$button.attr("title",e.trim(s.replace(/<[^>]*>?/g,"")));this.$button.children(".filter-option").html(s);this.$element.trigger("rendered.bs.select")},setStyle:function(e,t){if(this.$element.attr("class")){this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,""))}var n=e?e:this.options.style;if(t=="add"){this.$button.addClass(n)}else if(t=="remove"){this.$button.removeClass(n)}else{this.$button.removeClass(this.options.style);this.$button.addClass(n)}},liHeight:function(t){if(!t&&(this.options.size===false||this.sizeInfo))return;var n=document.createElement("div"),r=document.createElement("div"),i=document.createElement("ul"),s=document.createElement("li"),o=document.createElement("li"),u=document.createElement("a"),a=document.createElement("span"),f=this.options.header?this.$menu.find(".popover-title")[0].cloneNode(true):null,l=this.options.liveSearch?document.createElement("div"):null,c=this.options.actionsBox&&this.multiple?this.$menu.find(".bs-actionsbox")[0].cloneNode(true):null,h=this.options.doneButton&&this.multiple?this.$menu.find(".bs-donebutton")[0].cloneNode(true):null;a.className="text";n.className=this.$menu[0].parentNode.className+" open";r.className="dropdown-menu open";i.className="dropdown-menu inner";s.className="divider";a.appendChild(document.createTextNode("Inner text"));u.appendChild(a);o.appendChild(u);i.appendChild(o);i.appendChild(s);if(f)r.appendChild(f);if(l){var p=document.createElement("span");l.className="bs-searchbox";p.className="form-control";l.appendChild(p);r.appendChild(l)}if(c)r.appendChild(c);r.appendChild(i);if(h)r.appendChild(h);n.appendChild(r);document.body.appendChild(n);var d=u.offsetHeight,v=f?f.offsetHeight:0,m=l?l.offsetHeight:0,g=c?c.offsetHeight:0,y=h?h.offsetHeight:0,b=e(s).outerHeight(true),w=typeof getComputedStyle==="function"?getComputedStyle(r):false,E=w?null:e(r),S=parseInt(w?w.paddingTop:E.css("paddingTop"))+parseInt(w?w.paddingBottom:E.css("paddingBottom"))+parseInt(w?w.borderTopWidth:E.css("borderTopWidth"))+parseInt(w?w.borderBottomWidth:E.css("borderBottomWidth")),x=S+parseInt(w?w.marginTop:E.css("marginTop"))+parseInt(w?w.marginBottom:E.css("marginBottom"))+2;document.body.removeChild(n);this.sizeInfo={liHeight:d,headerHeight:v,searchHeight:m,actionsHeight:g,doneButtonHeight:y,dividerHeight:b,menuPadding:S,menuExtras:x}},setSize:function(){this.findLis();this.liHeight();if(this.options.header)this.$menu.css("padding-top",0);if(this.options.size===false)return;var t=this,n=this.$menu,r=this.$menuInner,i=e(window),s=this.$newElement[0].offsetHeight,o=this.sizeInfo["liHeight"],u=this.sizeInfo["headerHeight"],a=this.sizeInfo["searchHeight"],f=this.sizeInfo["actionsHeight"],l=this.sizeInfo["doneButtonHeight"],c=this.sizeInfo["dividerHeight"],h=this.sizeInfo["menuPadding"],p=this.sizeInfo["menuExtras"],d=this.options.hideDisabled?".disabled":"",v,m,g,y,b=function(){g=t.$newElement.offset().top-i.scrollTop();y=i.height()-g-s};b();if(this.options.size==="auto"){var w=function(){var i,s=function(t,n){return function(r){if(n){return r.classList?r.classList.contains(t):e(r).hasClass(t)}else{return!(r.classList?r.classList.contains(t):e(r).hasClass(t))}}},c=t.$menuInner[0].getElementsByTagName("li"),d=Array.prototype.filter?Array.prototype.filter.call(c,s("hidden",false)):t.$lis.not(".hidden"),w=Array.prototype.filter?Array.prototype.filter.call(d,s("dropdown-header",true)):d.filter(".dropdown-header");b();v=y-p;if(t.options.container){if(!n.data("height"))n.data("height",n.height());m=n.data("height")}else{m=n.height()}if(t.options.dropupAuto){t.$newElement.toggleClass("dropup",g>y&&v-p<m)}if(t.$newElement.hasClass("dropup")){v=g-p}if(d.length+w.length>3){i=o*3+p-2}else{i=0}n.css({"max-height":v+"px",overflow:"hidden","min-height":i+u+a+f+l+"px"});r.css({"max-height":v-u-a-f-l-h+"px","overflow-y":"auto","min-height":Math.max(i-h,0)+"px"})};w();this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",w);i.off("resize.getSize scroll.getSize").on("resize.getSize scroll.getSize",w)}else if(this.options.size&&this.options.size!="auto"&&this.$lis.not(d).length>this.options.size){var E=this.$lis.not(".divider").not(d).children().slice(0,this.options.size).last().parent().index(),S=this.$lis.slice(0,E+1).filter(".divider").length;v=o*this.options.size+S*c+h;if(t.options.container){if(!n.data("height"))n.data("height",n.height());m=n.data("height")}else{m=n.height()}if(t.options.dropupAuto){this.$newElement.toggleClass("dropup",g>y&&v-p<m)}n.css({"max-height":v+u+a+f+l+"px",overflow:"hidden","min-height":""});r.css({"max-height":v-h+"px","overflow-y":"auto","min-height":""})}},setWidth:function(){if(this.options.width==="auto"){this.$menu.css("min-width","0");var e=this.$menu.parent().clone().appendTo("body"),t=this.options.container?this.$newElement.clone().appendTo("body"):e,n=e.children(".dropdown-menu").outerWidth(),r=t.css("width","auto").children("button").outerWidth();e.remove();t.remove();this.$newElement.css("width",Math.max(n,r)+"px")}else if(this.options.width==="fit"){this.$menu.css("min-width","");this.$newElement.css("width","").addClass("fit-width")}else if(this.options.width){this.$menu.css("min-width","");this.$newElement.css("width",this.options.width)}else{this.$menu.css("min-width","");this.$newElement.css("width","")}if(this.$newElement.hasClass("fit-width")&&this.options.width!=="fit"){this.$newElement.removeClass("fit-width")}},selectPosition:function(){var t=this,n=e('<div class="bs-container" />'),r,i,s=function(e){n.addClass(e.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass("dropup",e.hasClass("dropup"));r=e.offset();i=e.hasClass("dropup")?0:e[0].offsetHeight;n.css({top:r.top+i,left:r.left,width:e[0].offsetWidth})};this.$newElement.on("click",function(){if(t.isDisabled()){return}s(e(this));n.appendTo(t.options.container);n.toggleClass("open",!e(this).hasClass("open"));n.append(t.$menu)});e(window).on("resize scroll",function(){s(t.$newElement)});this.$element.on("hide.bs.select",function(){t.$menu.data("height",t.$menu.height());n.detach()})},setSelected:function(e,t,n){if(!n){n=this.findLis().eq(this.liObj[e])}n.toggleClass("selected",t)},setDisabled:function(e,t,n){if(!n){n=this.findLis().eq(this.liObj[e])}if(t){n.addClass("disabled").children("a").attr("href","#").attr("tabindex",-1)}else{n.removeClass("disabled").children("a").removeAttr("href").attr("tabindex",0)}},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var e=this;if(this.isDisabled()){this.$newElement.addClass("disabled");this.$button.addClass("disabled").attr("tabindex",-1)}else{if(this.$button.hasClass("disabled")){this.$newElement.removeClass("disabled");this.$button.removeClass("disabled")}if(this.$button.attr("tabindex")==-1&&!this.$element.data("tabindex")){this.$button.removeAttr("tabindex")}}this.$button.click(function(){return!e.isDisabled()})},tabIndex:function(){if(this.$element.is("[tabindex]")){this.$element.data("tabindex",this.$element.attr("tabindex"));this.$button.attr("tabindex",this.$element.data("tabindex"))}},clickListener:function(){var t=this,n=e(document);this.$newElement.on("touchstart.dropdown",".dropdown-menu",function(e){e.stopPropagation()});n.data("spaceSelect",false);this.$button.on("keyup",function(e){if(/(32)/.test(e.keyCode.toString(10))&&n.data("spaceSelect")){e.preventDefault();n.data("spaceSelect",false)}});this.$newElement.on("click",function(){t.setSize();t.$element.on("shown.bs.select",function(){if(!t.options.liveSearch&&!t.multiple){t.$menuInner.find(".selected a").focus()}else if(!t.multiple){var e=t.liObj[t.$element[0].selectedIndex];if(typeof e!=="number"||t.options.size===false)return;var n=t.$lis.eq(e)[0].offsetTop-t.$menuInner[0].offsetTop;n=n-t.$menuInner[0].offsetHeight/2+t.sizeInfo.liHeight/2;t.$menuInner[0].scrollTop=n}})});this.$menuInner.on("click","li a",function(n){var r=e(this),i=r.parent().data("originalIndex"),s=t.$element.val(),o=t.$element.prop("selectedIndex");if(t.multiple){n.stopPropagation()}n.preventDefault();if(!t.isDisabled()&&!r.parent().hasClass("disabled")){var u=t.$element.find("option"),a=u.eq(i),f=a.prop("selected"),l=a.parent("optgroup"),c=t.options.maxOptions,h=l.data("maxOptions")||false;if(!t.multiple){u.prop("selected",false);a.prop("selected",true);t.$menuInner.find(".selected").removeClass("selected");t.setSelected(i,true)}else{a.prop("selected",!f);t.setSelected(i,!f);r.blur();if(c!==false||h!==false){var p=c<u.filter(":selected").length,d=h<l.find("option:selected").length;if(c&&p||h&&d){if(c&&c==1){u.prop("selected",false);a.prop("selected",true);t.$menuInner.find(".selected").removeClass("selected");t.setSelected(i,true)}else if(h&&h==1){l.find("option:selected").prop("selected",false);a.prop("selected",true);var v=r.parent().data("optgroup");t.$menuInner.find('[data-optgroup="'+v+'"]').removeClass("selected");t.setSelected(i,true)}else{var m=typeof t.options.maxOptionsText==="function"?t.options.maxOptionsText(c,h):t.options.maxOptionsText,g=m[0].replace("{n}",c),y=m[1].replace("{n}",h),b=e('<div class="notify"></div>');if(m[2]){g=g.replace("{var}",m[2][c>1?0:1]);y=y.replace("{var}",m[2][h>1?0:1])}a.prop("selected",false);t.$menu.append(b);if(c&&p){b.append(e("<div>"+g+"</div>"));t.$element.trigger("maxReached.bs.select")}if(h&&d){b.append(e("<div>"+y+"</div>"));t.$element.trigger("maxReachedGrp.bs.select")}setTimeout(function(){t.setSelected(i,false)},10);b.delay(750).fadeOut(300,function(){e(this).remove()})}}}}if(!t.multiple){t.$button.focus()}else if(t.options.liveSearch){t.$searchbox.focus()}if(s!=t.$element.val()&&t.multiple||o!=t.$element.prop("selectedIndex")&&!t.multiple){t.$element.triggerNative("change");t.$element.trigger("changed.bs.select",[i,a.prop("selected"),f])}}});this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",function(n){if(n.currentTarget==this){n.preventDefault();n.stopPropagation();if(t.options.liveSearch&&!e(n.target).hasClass("close")){t.$searchbox.focus()}else{t.$button.focus()}}});this.$menuInner.on("click",".divider, .dropdown-header",function(e){e.preventDefault();e.stopPropagation();if(t.options.liveSearch){t.$searchbox.focus()}else{t.$button.focus()}});this.$menu.on("click",".popover-title .close",function(){t.$button.click()});this.$searchbox.on("click",function(e){e.stopPropagation()});this.$menu.on("click",".actions-btn",function(n){if(t.options.liveSearch){t.$searchbox.focus()}else{t.$button.focus()}n.preventDefault();n.stopPropagation();if(e(this).hasClass("bs-select-all")){t.selectAll()}else{t.deselectAll()}t.$element.triggerNative("change")});this.$element.change(function(){t.render(false)})},liveSearchListener:function(){var r=this,i=e('<li class="no-results"></li>');this.$newElement.on("click.dropdown.data-api touchstart.dropdown.data-api",function(){r.$menuInner.find(".active").removeClass("active");if(!!r.$searchbox.val()){r.$searchbox.val("");r.$lis.not(".is-hidden").removeClass("hidden");if(!!i.parent().length)i.remove()}if(!r.multiple)r.$menuInner.find(".selected").addClass("active");setTimeout(function(){r.$searchbox.focus()},10)});this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",function(e){e.stopPropagation()});this.$searchbox.on("input propertychange",function(){if(r.$searchbox.val()){var s=r.$lis.not(".is-hidden").removeClass("hidden").children("a");if(r.options.liveSearchNormalize){s=s.not(":a"+r._searchStyle()+'("'+t(r.$searchbox.val())+'")')}else{s=s.not(":"+r._searchStyle()+'("'+r.$searchbox.val()+'")')}s.parent().addClass("hidden");r.$lis.filter(".dropdown-header").each(function(){var t=e(this),n=t.data("optgroup");if(r.$lis.filter("[data-optgroup="+n+"]").not(t).not(".hidden").length===0){t.addClass("hidden");r.$lis.filter("[data-optgroup="+n+"div]").addClass("hidden")}});var o=r.$lis.not(".hidden");o.each(function(t){var n=e(this);if(n.hasClass("divider")&&(n.index()===o.first().index()||n.index()===o.last().index()||o.eq(t+1).hasClass("divider"))){n.addClass("hidden")}});if(!r.$lis.not(".hidden, .no-results").length){if(!!i.parent().length){i.remove()}i.html(r.options.noneResultsText.replace("{0}",'"'+n(r.$searchbox.val())+'"')).show();r.$menuInner.append(i)}else if(!!i.parent().length){i.remove()}}else{r.$lis.not(".is-hidden").removeClass("hidden");if(!!i.parent().length){i.remove()}}r.$lis.filter(".active").removeClass("active");if(r.$searchbox.val())r.$lis.not(".hidden, .divider, .dropdown-header").eq(0).addClass("active").children("a").focus();e(this).focus()})},_searchStyle:function(){var e={begins:"ibegins",startsWith:"ibegins"};return e[this.options.liveSearchStyle]||"icontains"},val:function(e){if(typeof e!=="undefined"){this.$element.val(e);this.render();return this.$element}else{return this.$element.val()}},changeAll:function(t){if(typeof t==="undefined")t=true;this.findLis();var n=this.$element.find("option"),r=this.$lis.not(".divider, .dropdown-header, .disabled, .hidden").toggleClass("selected",t),i=r.length,s=[];for(var o=0;o<i;o++){var u=r[o].getAttribute("data-original-index");s[s.length]=n.eq(u)[0]}e(s).prop("selected",t);this.render(false)},selectAll:function(){return this.changeAll(true)},deselectAll:function(){return this.changeAll(false)},keydown:function(n){var r=e(this),i=r.is("input")?r.parent().parent():r.parent(),s,o=i.data("this"),u,a,f,l,c,h,p,d,v=":not(.disabled, .hidden, .dropdown-header, .divider)",m={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};if(o.options.liveSearch)i=r.parent().parent();if(o.options.container)i=o.$menu;s=e("[role=menu] li",i);d=o.$menu.parent().hasClass("open");if(!d&&(n.keyCode>=48&&n.keyCode<=57||n.keyCode>=96&&n.keyCode<=105||n.keyCode>=65&&n.keyCode<=90)){if(!o.options.container){o.setSize();o.$menu.parent().addClass("open");d=true}else{o.$newElement.trigger("click")}o.$searchbox.focus()}if(o.options.liveSearch){if(/(^9$|27)/.test(n.keyCode.toString(10))&&d&&o.$menu.find(".active").length===0){n.preventDefault();o.$menu.parent().removeClass("open");if(o.options.container)o.$newElement.removeClass("open");o.$button.focus()}s=e("[role=menu] li"+v,i);if(!r.val()&&!/(38|40)/.test(n.keyCode.toString(10))){if(s.filter(".active").length===0){s=o.$menuInner.find("li");if(o.options.liveSearchNormalize){s=s.filter(":a"+o._searchStyle()+"("+t(m[n.keyCode])+")")}else{s=s.filter(":"+o._searchStyle()+"("+m[n.keyCode]+")")}}}}if(!s.length)return;if(/(38|40)/.test(n.keyCode.toString(10))){u=s.index(s.find("a").filter(":focus").parent());f=s.filter(v).first().index();l=s.filter(v).last().index();a=s.eq(u).nextAll(v).eq(0).index();c=s.eq(u).prevAll(v).eq(0).index();h=s.eq(a).prevAll(v).eq(0).index();if(o.options.liveSearch){s.each(function(t){if(!e(this).hasClass("disabled")){e(this).data("index",t)}});u=s.index(s.filter(".active"));f=s.first().data("index");l=s.last().data("index");a=s.eq(u).nextAll().eq(0).data("index");c=s.eq(u).prevAll().eq(0).data("index");h=s.eq(a).prevAll().eq(0).data("index")}p=r.data("prevIndex");if(n.keyCode==38){if(o.options.liveSearch)u--;if(u!=h&&u>c)u=c;if(u<f)u=f;if(u==p)u=l}else if(n.keyCode==40){if(o.options.liveSearch)u++;if(u==-1)u=0;if(u!=h&&u<a)u=a;if(u>l)u=l;if(u==p)u=f}r.data("prevIndex",u);if(!o.options.liveSearch){s.eq(u).children("a").focus()}else{n.preventDefault();if(!r.hasClass("dropdown-toggle")){s.removeClass("active").eq(u).addClass("active").children("a").focus();r.focus()}}}else if(!r.is("input")){var g=[],y,b;s.each(function(){if(!e(this).hasClass("disabled")){if(e.trim(e(this).children("a").text().toLowerCase()).substring(0,1)==m[n.keyCode]){g.push(e(this).index())}}});y=e(document).data("keycount");y++;e(document).data("keycount",y);b=e.trim(e(":focus").text().toLowerCase()).substring(0,1);if(b!=m[n.keyCode]){y=1;e(document).data("keycount",y)}else if(y>=g.length){e(document).data("keycount",0);if(y>g.length)y=1}s.eq(g[y-1]).children("a").focus()}if((/(13|32)/.test(n.keyCode.toString(10))||/(^9$)/.test(n.keyCode.toString(10))&&o.options.selectOnTab)&&d){if(!/(32)/.test(n.keyCode.toString(10)))n.preventDefault();if(!o.options.liveSearch){var w=e(":focus");w.click();w.focus();n.preventDefault();e(document).data("spaceSelect",true)}else if(!/(32)/.test(n.keyCode.toString(10))){o.$menuInner.find(".active a").click();r.focus()}e(document).data("keycount",0)}if(/(^9$|27)/.test(n.keyCode.toString(10))&&d&&(o.multiple||o.options.liveSearch)||/(27)/.test(n.keyCode.toString(10))&&!d){o.$menu.parent().removeClass("open");if(o.options.container)o.$newElement.removeClass("open");o.$button.focus()}},mobile:function(){this.$element.addClass("mobile-device").appendTo(this.$newElement);if(this.options.container)this.$menu.hide()},refresh:function(){this.$lis=null;this.liObj={};this.reloadLi();this.render();this.checkDisabled();this.liHeight(true);this.setStyle();this.setWidth();if(this.$lis)this.$searchbox.trigger("propertychange");this.$element.trigger("refreshed.bs.select")},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove();this.$element.remove()}};var s=e.fn.selectpicker;e.fn.selectpicker=i;e.fn.selectpicker.Constructor=r;e.fn.selectpicker.noConflict=function(){e.fn.selectpicker=s;return this};e(document).data("keycount",0).on("keydown",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="menu"], .bs-searchbox input',r.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="menu"], .bs-searchbox input',function(e){e.stopPropagation()});e(window).on("load.bs.select.data-api",function(){e(".selectpicker").each(function(){var t=e(this);i.call(t,t.data())})})})(e)})